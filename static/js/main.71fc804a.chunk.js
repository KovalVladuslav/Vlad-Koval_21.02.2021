(this["webpackJsonpvlad_koval_21-03-2021"]=this["webpackJsonpvlad_koval_21-03-2021"]||[]).push([[0],{18:function(e,t,a){e.exports={star:"ButtonStar_star__3br69",star_absolute:"ButtonStar_star_absolute__2y4IG",star_active:"ButtonStar_star_active__1iI7N",star_inactive:"ButtonStar_star_inactive__179T1"}},21:function(e,t,a){e.exports={modal_wrapper:"ModalMovieCard_modal_wrapper__3v2i0",modal:"ModalMovieCard_modal__3DjSO",modal_close:"ModalMovieCard_modal_close__lvW5w",modal_image:"ModalMovieCard_modal_image__K2Yxo",modal_year:"ModalMovieCard_modal_year__26cZL",modal_genres:"ModalMovieCard_modal_genres__2WfOq",modal_people:"ModalMovieCard_modal_people__13BJO",active:"ModalMovieCard_active__3h0yy",inactive:"ModalMovieCard_inactive__aCwY6"}},23:function(e,t,a){e.exports={header:"HeaderFavoriteList_header__Nru30",accordion:"HeaderFavoriteList_accordion__3YnuK",accordion_button:"HeaderFavoriteList_accordion_button__1RWbi",accordion_list:"HeaderFavoriteList_accordion_list__225oR",accordion_list_wrapper:"HeaderFavoriteList_accordion_list_wrapper__2Auib",accordion_item_delete:"HeaderFavoriteList_accordion_item_delete__IAr-V"}},49:function(e,t,a){e.exports={wrapper:"MoviesGallery_wrapper__1P9E6",movie_block:"MoviesGallery_movie_block__cYCLh",movie_card:"MoviesGallery_movie_card__3atFg"}},50:function(e,t,a){e.exports={wrapper:"FavoriteListComponent_wrapper__2wKij",favorite_item:"FavoriteListComponent_favorite_item__1GG3e",favorite_item_delete:"FavoriteListComponent_favorite_item_delete__wU8Bo"}},65:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var c=a(0),i=a(14),n=a.n(i),r=a(12),o=a(54),s=a(55),l=a(52),d=a(56),j=a(32),_=a(57),v=a.p+"static/media/close-icon.2fe5f259.svg",b=a(21),u=a.n(b),m=a(11),O=a(35),f=function(e,t){var a=JSON.parse(localStorage.getItem("favoriteList")||"{}");if(!Object.keys(a).length)localStorage.setItem("favoriteList",JSON.stringify(Object(O.a)({},e,t)));else{var c=Object(m.a)({},a);t?c[e]=t:delete c[e],localStorage.setItem("favoriteList",JSON.stringify(c))}},h=a(18),p=a.n(h),x=a(2),M=function(e){var t=e.setAllMovies,a=e.active,i=e.id,n=e.allMovies,o=e.position,s=e.modal,l=Object(c.useState)(a),d=Object(r.a)(l,2),j=d[0],_=d[1],v=function(e){e.stopPropagation(),s&&_((function(e){return _(!e)}));var a=n.map((function(e){return e.id===i?(f(e.name,!e.active),Object(m.a)(Object(m.a)({},e),{},{active:!e.active})):e}));t(a)};return Object(x.jsx)(x.Fragment,{children:s?Object(x.jsx)("button",{className:"".concat(p.a.star," ").concat(j?p.a.star_active:p.a.star_inactive," ").concat("absolute"===o?p.a.star_absolute:""),onClick:v}):Object(x.jsx)("button",{className:"".concat(p.a.star," ").concat(a?p.a.star_active:p.a.star_inactive," ").concat("absolute"===o?p.a.star_absolute:""),onClick:v})})},g=function(e){var t=e.setIsShowModal,a=e.isShowModal,c=e.currentShowMovie,i=e.setAllMovies,n=e.allMovies,r=function(){t(!1)};return Object(x.jsx)(_.a,{show:a,onHide:r,centered:!0,dialogClassName:u.a.modal,children:Object(x.jsxs)("section",{className:u.a.modal_wrapper,children:[Object(x.jsx)("img",{src:v,role:"button",tabIndex:0,alt:"close",onClick:r,className:u.a.modal_close}),Object(x.jsx)("img",{src:c.img,alt:c.name,className:u.a.modal_image}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{children:c.name}),Object(x.jsx)("p",{children:c.description})]}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(x.jsx)(M,{setAllMovies:i,active:c.active,id:c.id,allMovies:n,modal:!0}),Object(x.jsx)("span",{className:u.a.modal_year,children:c.year})]}),Object(x.jsx)("div",{className:u.a.modal_genres,children:c.genres&&c.genres.map((function(e,t){return Object(x.jsx)("span",{children:e},"".concat(e,"-").concat(t))}))})]}),Object(x.jsxs)("div",{className:u.a.modal_people,children:[Object(x.jsxs)("span",{children:["Director: ",c.director]}),Object(x.jsxs)("div",{className:"mt-3",children:[Object(x.jsx)("span",{children:"Starring:\xa0"}),c.starring&&c.starring.map((function(e,t,a){return a.length===t+1?Object(x.jsx)("span",{children:"".concat(e)},"".concat(e,"-").concat(t)):Object(x.jsxs)("span",{children:["".concat(e,","),"\xa0"]},"".concat(e,"-").concat(t))}))]})]})]})})},N=a(49),S=a.n(N),w=function(e){var t=e.allMovies,a=e.setAllMovies,i=e.filterGenre,n=e.filterMovie,o=Object(c.useState)(!1),s=Object(r.a)(o,2),l=s[0],d=s[1],j=Object(c.useState)({}),_=Object(r.a)(j,2),v=_[0],b=_[1];return Object(x.jsxs)("main",{className:S.a.wrapper,children:[Object(x.jsx)("h2",{children:"Movies Gallery"}),Object(x.jsx)("div",{className:S.a.movie_block,children:n(t,i).map((function(e){return Object(x.jsxs)("div",{className:S.a.movie_card,role:"button",tabIndex:0,onClick:function(){return function(e){var a=t.find((function(t){return t.id===e}));b(a),d(!0)}(e.id)},children:[Object(x.jsx)(M,{setAllMovies:a,active:e.active,id:e.id,allMovies:t,position:"absolute"}),Object(x.jsx)("img",{src:e.img,alt:e.name}),Object(x.jsx)("p",{children:e.name}),Object(x.jsx)("span",{children:e.year})]},e.id)}))}),Object(x.jsx)(g,{allMovies:t,setAllMovies:a,isShowModal:l,setIsShowModal:d,currentShowMovie:v})]})},C=a(50),y=a.n(C),k=function(e){var t=e.allMovies,a=e.setAllMovies,c=e.filterGenre,i=e.filterMovie;return Object(x.jsxs)("aside",{className:"".concat(y.a.wrapper," d-none d-lg-block"),children:[Object(x.jsx)("h3",{children:"Favorite List"}),i(t,c).map((function(e){return e.active&&Object(x.jsxs)("div",{className:y.a.favorite_item,children:[Object(x.jsx)("p",{children:e.name},"".concat(e.name,"_favorite-list")),Object(x.jsx)("button",{className:y.a.favorite_item_delete,onClick:function(c){return function(e,c){var i=t.map((function(e){return e.id===c?(f(e.name,!1),Object(m.a)(Object(m.a)({},e),{},{active:!1})):e}));a(i)}(0,e.id)}})]})}))]})},L=a(53),A=a(43),F=a(23),I=a.n(F),G=function(e){var t=e.children,a=e.eventKey,c=Object(A.b)(a);return Object(x.jsx)("button",{onClick:c,className:I.a.accordion_button,children:t})},B=function(e){var t=e.allMovies,a=e.setAllMovies,i=Object(c.useState)([]),n=Object(r.a)(i,2),o=n[0],s=n[1];Object(c.useEffect)((function(){var e=t.filter((function(e){return e.active}));s(e)}),[t]);return Object(x.jsx)("header",{className:"".concat(I.a.header," d-lg-none"),children:Object(x.jsxs)(L.a,{className:I.a.accordion,children:[Object(x.jsx)(G,{eventKey:"0",children:"Favorite List"}),Object(x.jsx)(L.a.Collapse,{eventKey:"0",children:Object(x.jsx)("div",{className:I.a.accordion_list_wrapper,children:o.length?o.map((function(e){return e.active&&Object(x.jsxs)("div",{className:I.a.accordion_list,children:[Object(x.jsx)("p",{children:e.name},"".concat(e.name,"_favorite-list-header")),Object(x.jsx)("button",{className:I.a.accordion_item_delete,onClick:function(c){return function(e,c){var i=t.map((function(e){return e.id===c?(f(e.name,!1),Object(m.a)(Object(m.a)({},e),{},{active:!1})):e}));a(i)}(0,e.id)}})]})})):Object(x.jsx)("p",{children:"No item"})})})]})})},H=(a(65),function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),a=t[0],i=t[1],n=Object(c.useState)(""),_=Object(r.a)(n,2),v=(_[0],_[1]),b=Object(c.useState)([]),u=Object(r.a)(b,2),O=u[0],f=u[1],h=Object(c.useState)(""),p=Object(r.a)(h,2),M=p[0],g=p[1];Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favoriteList")||"{}"),t=!Object.keys(e).length;fetch("https://my-json-server.typicode.com/moviedb-tech/movies/list").then((function(e){return e.json()})).then((function(a){var c,n=function(e){var t=new Set;return e.forEach((function(e){e.genres.forEach((function(e){t.add(e)}))})),Array.from(t)}(a);if(f(n),t)i(a);else{var r=(c=e,a.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{active:c[e.name]})})));i(r)}})).catch((function(){return v("Something went wrong")}))}),[]);var N=function(e,t){return t?e.filter((function(e){return e.genres.find((function(e){return e===t}))})):e};return Object(x.jsx)(o.a,{className:"position-relative",children:Object(x.jsxs)(s.a,{children:[Object(x.jsx)(B,{allMovies:a,setAllMovies:i}),Object(x.jsx)(l.a,{lg:9,xl:10,children:a.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(d.a,{variant:"outline-light",title:"".concat(M||"Select genres"),className:"mb-3 mt-3",size:"lg",children:[M&&Object(x.jsx)(j.a.Item,{onClick:function(){return g("")},children:"All genres"}),O.map((function(e){return Object(x.jsx)(j.a.Item,{onClick:function(){return g(e)},children:e},e)}))]}),Object(x.jsx)(w,{allMovies:a,setAllMovies:i,filterGenre:M,filterMovie:N})]}):Object(x.jsx)("p",{className:"text-center",children:"Loading..."})}),Object(x.jsx)(l.a,{lg:3,xl:2,className:"position-static",children:Object(x.jsx)(k,{allMovies:a,filterMovie:N,filterGenre:M,setAllMovies:i})})]})})});a(67);n.a.render(Object(x.jsx)(H,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.71fc804a.chunk.js.map